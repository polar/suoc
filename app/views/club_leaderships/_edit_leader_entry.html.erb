<%
 # This partial creates a table row for a single leader.
 # badge and then a vertical table of start and end date.
 # 
 #
 # Local Variables
 #        leader : ClubLeader to be displayed.
 #        link    : Link to use for avatar.
 #        rowclass : CSS Class for row
 #
 %>
<tr <%= "class='#{rowclass}'" if rowclass %> > 
  <td><%= render_member_badge(leader.member) %></td>
  <td><table>
    <tr>
      <th>Leadership</th>
      <td><%= leader.leadership.name %></td>
    </tr>
    <tr>
    <th>Start Date</th>
    <td><%= fmt_date(leader.start_date) %></td>
    </tr>
    <tr>
    <th>End Date</th>
    <td><%= fmt_date(leader.end_date) %></td>
    </tr>
  </table></td>
  <td>
  <ul class="EntryForm">
    <li>
    <% if view_retire_leader(leader) %>
      <%= button_to "Retire Leader",
                     url_for( :action => :retire_leader,
                              :id => leader.leadership,
                              :leader => leader ),
                    :confirm => "Are you sure you want to retire #{leader.member.login} from the leadership of #{leader.leadership.name}?" %>
    <% end %>
    </li><li>
    <% if view_edit_leader(leader) %>
      <%= link_to "Edit Leader",
                   url_for( :action => :edit_leader,
                            :id => leader.leadership,
                            :leader => leader ) %>
    <% end %>
    </li><li>
    <% if view_delete_leader(leader) %>
      <%= button_to "Delete Leader",
                    url_for( :action => :delete_leader,
                             :id => leader.leadership,
                             :leader => leader ),
                    :confirm => "Are you sure you want to DELETE this leader entry, erasing the record forever?"  %>
    <% end %>
    </li>
  </ul>
</tr>
