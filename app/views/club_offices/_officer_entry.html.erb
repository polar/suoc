<%
 # This partial creates a table row for a single officer.
 # badge and then a vertical table of start and end date.
 # 
 #
 # Local Variables
 #        officer : ClubOfficer to be displayed.
 #        link    : Link to use for avatar.
 #        rowclass : CSS Class for row
 #
 %>
<tr <%= "class='#{rowclass}'" %>>
  <td><%= render_member_badge(officer.member, link) %></td>
  <td><table>
    <tr>
      <th>Office</th>
      <td>
        <div class="name">
          <%= officer.office.name %>
        </div>
     </td>
    </tr>
    <tr>
      <th>Start Date</th>
      <td>
        <div class="date">
          <%= fmt_date(officer.start_date) %>
        </div>
      </td>
    </tr>
    <tr>
      <th>End Date</th>
      <td>
        <div class="date">
          <%= fmt_date(officer.end_date) %>
        </div>
      </td>
    </tr>
  </table></td>
  <td>
    <div class="EntryForm">
      <ul>
        <li>
        <% if view_retire_officer(officer) %>
          <%= button_to "Retire Officer", 
                         url_for( :action => :retire_officer, 
                                  :id => officer.office, 
                                  :officer => officer ),
                         :confirm => "Are you sure you want to retire #{officer.member.login} from the office of #{officer.office.name}?" %>
        <% end %>
        </li><li>
        <% if view_edit_officer(officer) %>
          <%= button_to "Edit Officer", 
                         url_for( :action => :edit_officer, 
                                  :id => officer.office, 
                                  :officer => officer ) %>
        <% end %>
        </li><li>
        <% if view_delete_officer(officer) %>
          <%= button_to "Delete Officer", 
                         url_for( :action => :delete_officer,
                         :id => officer.office,
                         :officer => officer ),
                         :confirm => "Are you sure you want to DELETE this officer entry, erasing the record forever?"  %>
        <% end %>
        </li>
      </ul>
    </div>
  </td>
</tr>
